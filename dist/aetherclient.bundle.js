(()=>{"use strict";var t={d:(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{U:()=>r,W:()=>i});class e extends Phaser.Scene{constructor(){super("Login")}preload(){this.load.pack("asset-pack","assets/asset-pack.json"),this.load.plugin("rexinputtextplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rexinputtextplugin.min.js",!0)}editorCreate(){const t=this.add.sprite(760,480,"login","bg"),e=this.add.sprite(760,497,"login","button"),s=this.add.rectangle(796,143,440,60);s.isFilled=!0,s.isStroked=!0,s.strokeColor=0;const n=this.add.text(564,143,"",{});n.setOrigin(1,.5),n.text="Penguin Name:",n.setStyle({align:"right",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"32px"});const o=this.add.rectangle(796,228,440,60);o.isFilled=!0,o.isStroked=!0,o.strokeColor=0;const i=this.add.text(564,228,"",{});i.setOrigin(1,.5),i.text="Password:",i.setStyle({align:"right",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"32px"});const r=this.add.sprite(530,312,"login","checkbox"),a=this.add.text(565,317,"",{});a.setOrigin(0,.5),a.text="Remember me on this computer",a.setStyle({color:"#000000ff",fontFamily:"Burbank Small",fontSize:"32px"});const c=this.add.sprite(530,384,"login","checkbox"),l=this.add.text(565,389,"",{});l.setOrigin(0,.5),l.text="Remember my password",l.setStyle({color:"#000000ff",fontFamily:"Burbank Small",fontSize:"32px"}),this.add.image(1188,571,"login","note");const h=this.add.text(760,495,"",{});h.setOrigin(.5,.5),h.text="Login",h.setStyle({align:"center",color:"#ffffffff",fontFamily:"Burbank Small",fontSize:"45px"});const p=this.add.text(760,640,"",{});p.setOrigin(.5,.5),p.text="Forgot your password?",p.setStyle({align:"center",color:"#ffffffff",fontFamily:"Burbank Small",fontSize:"38px"});const m=this.add.text(760,735,"",{});m.setOrigin(.5,.5),m.text="Don't have a penguin?",m.setStyle({align:"center",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"34px"});const d=this.add.text(760,775,"",{});d.setOrigin(.5,.5),d.text="Create a free account now",d.setStyle({align:"center",color:"#ffffffff",fontFamily:"Burbank Small",fontSize:"34px"});const u=this.add.text(760,865,"",{});u.setOrigin(.5,.5),u.text="Club Penguin Rules",u.setStyle({align:"center",color:"#ffffffff",fontFamily:"Burbank Small",fontSize:"45px"});const g=new class extends class extends class{constructor(t){this.gameObject=t,t.__EventComponent=this,this.scene=t.scene,this.scene.events.once("create",this.start,this),this.scene.events.on("update",this.update,this),t.on("destroy",this.destroy,this)}static getComponent(t){return t.__EventComponent}gameObject;start(){}update(){}destroy(){this.scene.events.off("create",this.start,this),this.scene.events.off("update",this.update,this)}}{constructor(t){super(t),this.gameObject=t,t.__SimpleButton=this,t.isButton=!0}static getComponent(t){return t.__SimpleButton}gameObject;hoverCallback=null;hoverOutCallback=null;callback=()=>{};pixelPerfect=!1;start(){this.gameObject.setInteractive({cursor:"pointer",pixelPerfect:this.pixelPerfect}),this.gameObject.on("pointerover",(()=>this.onOver())),this.gameObject.on("pointerout",(()=>this.onOut())),this.gameObject.on("pointerup",(()=>this.onUp()))}onOver(){this.hoverCallback&&this.hoverCallback()}onOut(){this.hoverOutCallback&&this.hoverOutCallback()}onUp(){this.callback()}}{constructor(t){super(t),this.gameObject=t,t.__Button=this}static getComponent(t){return t.__Button}gameObject;spriteName="";hoverCallback=null;hoverOutCallback=null;callback=()=>{};activeFrame=!0;pixelPerfect=!1;start(){super.start(),this.gameObject.on("pointerdown",(()=>this.onDown()))}onOver(){this.gameObject.setFrame(`${this.spriteName}-hover`),super.onOver()}onOut(){this.gameObject.setFrame(this.spriteName),super.onOut()}onDown(){this.activeFrame?this.gameObject.setFrame(`${this.spriteName}-active`):this.gameObject.setFrame(`${this.spriteName}-hover`)}onUp(){this.activeFrame?this.gameObject.setFrame(this.spriteName):this.gameObject.setFrame(`${this.spriteName}-hover`),super.onUp()}}(e);g.spriteName="button",g.callback=()=>this.login(),this.bg=t,this.loginBtn=e,this.usernameBox=s,this.usernameText=n,this.passwordBox=o,this.passwordText=i,this.rememberPenguinCheckbox=r,this.rememberPenguinText=a,this.rememberPasswordCheckbox=c,this.rememberPasswordText=l,this.loginBtnText=h,this.forgotPasswordText=p,this.createAccountTextUpper=m,this.createAccountTextLower=d,this.rulesText=u,this.events.emit("scene-awake")}bg;loginBtn;usernameBox;usernameText;passwordBox;passwordText;rememberPenguinCheckbox;rememberPenguinText;rememberPasswordCheckbox;rememberPasswordText;loginBtnText;forgotPasswordText;createAccountTextUpper;createAccountTextLower;rulesText;create(){var t=this.add.rexInputText(796,150,440,60,{type:"textarea",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"40px","padding-left":"10px","padding-right":"10px"}),e=this.add.rexInputText(796,228,440,60,{type:"password",color:"#000000ff",fontFamily:"Burbank Small",fontSize:"40px","padding-left":"10px","padding-right":"10px"});this.editorCreate(),this.usernameInput=t,this.passwordInput=e}usernameInput;passwordInput;login(){var t=this.usernameInput.text,e=function(t){let e=CryptoJS.MD5(t).toString().toUpperCase();function s(t,e=!0){return e&&(t=CryptoJS.MD5(t).toString()),t.slice(16,32)+t.slice(0,16)}return e=function(t,e){let n=s(t,!1);return n+="houdini",n+="Y(02.>'H}t\":E1",s(n)}(e),e}(this.passwordInput.text);i("<msg t='sys'><body action='verChk' r='0'><ver v='253' /></body></msg>"),i("<msg t='sys'><body action='rndK' r='-1'></body></msg>"),i("<msg t='sys'><body action='login' r='0'><login z='w1'><nick><![CDATA["+t+"]]></nick><pword><![CDATA["+e+"]]></pword></login></body></msg>"),setTimeout((function(){var t=r();console.log(t)}),1e3)}}const s=e;var n=new WebSocket("ws://localhost:6112"),o={};function i(t){n.send(t)}function r(){return o.credentials}function a(){this.scene.add("Login",s,!0)}n.onmessage=function(t){console.log("[PACKET RECEIVED] => "+t.data);var e=t.data.split("%"),s=e[2],n=e[4];if("l"==s){o.credentials=n,e[5];var i=e[7];i=i.split("|")}},window.addEventListener("load",(function(){new Phaser.Game({width:1520,height:960,type:Phaser.AUTO,backgroundColor:"#242424",parent:"game",dom:{createContainer:!0},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},scene:{create:a}})}))})();